function Swipe(R,Z){var Y=function(){};var H=function(a){setTimeout(a||Y,0)};var M={addEventListener:!!window.addEventListener,touch:("ontouchstart" in window)||window.DocumentTouch&&document instanceof DocumentTouch,transitions:(function(c){var a=["transitionProperty","WebkitTransition","MozTransition","OTransition","msTransition"];for(var b in a){if(c.style[a[b]]!==undefined){return true}}return false})(document.createElement("swipe"))};if(!R){return}var ab=R.children[0];var J,aa,K,X;Z=Z||{};var T=parseInt(Z.startSlide,10)||0;var G=Z.speed||300;Z.continuous=Z.continuous!==undefined?Z.continuous:true;function Q(){J=ab.children;X=J.length;if(J.length<2){Z.continuous=false}if(M.transitions&&Z.continuous&&J.length<3){ab.appendChild(J[0].cloneNode(true));ab.appendChild(ab.children[1].cloneNode(true));J=ab.children}aa=new Array(J.length);K=R.getBoundingClientRect().width||R.offsetWidth;ab.style.width=(J.length*K)+"px";var a=J.length;while(a--){var b=J[a];b.style.width=K+"px";b.setAttribute("data-index",a);if(M.transitions){b.style.left=(a*-K)+"px";L(a,T>a?-K:(T<a?K:0),0)}}if(Z.continuous&&M.transitions){L(V(T-1),-K,0);L(V(T+1),K,0)}if(!M.transitions){ab.style.left=(T*-K)+"px"}R.style.visibility="visible"}function P(){if(Z.continuous){ad(T-1)}else{if(T){ad(T-1)}}}function O(){if(Z.continuous){ad(T+1)}else{if(T<J.length-1){ad(T+1)}}}function V(a){return(J.length+(a%J.length))%J.length}function ad(a,d){if(T==a){return}if(M.transitions){var b=Math.abs(T-a)/(T-a);if(Z.continuous){var e=b;b=-aa[V(a)]/K;if(b!==e){a=-b*J.length+a}}var c=Math.abs(T-a)-1;while(c--){L(V((a>T?a:T)-c-1),K*b,0)}a=V(a);L(T,K*b,d||G);L(a,0,d||G);if(Z.continuous){L(V(a-b),-(K*b),0)}}else{a=V(a);U(T*-K,a*-K,d||G)}T=a;H(Z.callback&&Z.callback(T,J[T]))}function L(c,a,b){S(c,a,b);aa[c]=a}function S(d,a,b){var e=J[d];var c=e&&e.style;if(!c){return}c.webkitTransitionDuration=c.MozTransitionDuration=c.msTransitionDuration=c.OTransitionDuration=c.transitionDuration=b+"ms";c.webkitTransform="translate("+a+"px,0)translateZ(0)";c.msTransform=c.MozTransform=c.OTransform="translateX("+a+"px)"}function U(a,b,e){if(!e){ab.style.left=b+"px";return}var c=+new Date;var d=setInterval(function(){var f=+new Date-c;if(f>e){ab.style.left=b+"px";if(N){E()}Z.transitionEnd&&Z.transitionEnd.call(event,T,J[T]);clearInterval(d);return}ab.style.left=(((b-a)*(Math.floor((f/e)*100)/100))+a)+"px"},4)}var N=Z.auto||0;var F;function E(){F=setTimeout(O,N)}function I(){N=0;clearTimeout(F)}var W={};var D={};var C;var ac={handleEvent:function(a){switch(a.type){case"touchstart":this.start(a);break;case"touchmove":this.move(a);break;case"touchend":H(this.end(a));break;case"webkitTransitionEnd":case"msTransitionEnd":case"oTransitionEnd":case"otransitionend":case"transitionend":H(this.transitionEnd(a));break;case"resize":H(Q);break}if(Z.stopPropagation){a.stopPropagation()}},start:function(b){var a=b.touches[0];W={x:a.pageX,y:a.pageY,time:+new Date};C=undefined;D={};ab.addEventListener("touchmove",this,false);ab.addEventListener("touchend",this,false)},move:function(b){if(b.touches.length>1||b.scale&&b.scale!==1){return}if(Z.disableScroll){b.preventDefault()}var a=b.touches[0];D={x:a.pageX-W.x,y:a.pageY-W.y};if(typeof C=="undefined"){C=!!(C||Math.abs(D.x)<Math.abs(D.y))}if(!C){b.preventDefault();I();if(Z.continuous){S(V(T-1),D.x+aa[V(T-1)],0);S(T,D.x+aa[T],0);S(V(T+1),D.x+aa[V(T+1)],0)}else{D.x=D.x/((!T&&D.x>0||T==J.length-1&&D.x<0)?(Math.abs(D.x)/K+1):1);S(T-1,D.x+aa[T-1],0);S(T,D.x+aa[T],0);S(T+1,D.x+aa[T+1],0)}}},end:function(c){var a=+new Date-W.time;var d=Number(a)<250&&Math.abs(D.x)>20||Math.abs(D.x)>K/2;var e=!T&&D.x>0||T==J.length-1&&D.x<0;if(Z.continuous){e=false}var b=D.x<0;if(!C){if(d&&!e){if(b){if(Z.continuous){L(V(T-1),-K,0);L(V(T+2),K,0)}else{L(T-1,-K,0)}L(T,aa[T]-K,G);L(V(T+1),aa[V(T+1)]-K,G);T=V(T+1)}else{if(Z.continuous){L(V(T+1),K,0);L(V(T-2),-K,0)}else{L(T+1,K,0)}L(T,aa[T]+K,G);L(V(T-1),aa[V(T-1)]+K,G);T=V(T-1)}Z.callback&&Z.callback(T,J[T])}else{if(Z.continuous){L(V(T-1),-K,G);L(T,0,G);L(V(T+1),K,G)}else{L(T-1,-K,G);L(T,0,G);L(T+1,K,G)}}}ab.removeEventListener("touchmove",ac,false);ab.removeEventListener("touchend",ac,false)},transitionEnd:function(a){if(parseInt(a.target.getAttribute("data-index"),10)==T){if(N){E()}Z.transitionEnd&&Z.transitionEnd.call(a,T,J[T])}}};Q();if(N){E()}if(M.addEventListener){if(M.touch){ab.addEventListener("touchstart",ac,false)}if(M.transitions){ab.addEventListener("webkitTransitionEnd",ac,false);ab.addEventListener("msTransitionEnd",ac,false);ab.addEventListener("oTransitionEnd",ac,false);ab.addEventListener("otransitionend",ac,false);ab.addEventListener("transitionend",ac,false)}window.addEventListener("resize",ac,false)}else{window.onresize=function(){Q()}}return{setup:function(){Q()},slide:function(a,b){I();ad(a,b)},prev:function(){I();P()},next:function(){I();O()},stop:function(){I()},getPos:function(){return T},getNumSlides:function(){return X},kill:function(){I();ab.style.width="";ab.style.left="";var a=J.length;while(a--){var b=J[a];b.style.width="";b.style.left="";if(M.transitions){S(a,0,0)}}if(M.addEventListener){ab.removeEventListener("touchstart",ac,false);ab.removeEventListener("webkitTransitionEnd",ac,false);ab.removeEventListener("msTransitionEnd",ac,false);ab.removeEventListener("oTransitionEnd",ac,false);ab.removeEventListener("otransitionend",ac,false);ab.removeEventListener("transitionend",ac,false);window.removeEventListener("resize",ac,false)}else{window.onresize=null}}}}if(window.jQuery||window.Zepto){(function(b){b.fn.Swipe=function(a){return this.each(function(){b(this).data("Swipe",new Swipe(b(this)[0],a))})}})(window.jQuery||window.Zepto)};