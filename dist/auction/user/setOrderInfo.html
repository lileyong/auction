<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="yes" name="apple-touch-fullscreen"><meta content="telephone=no,email=no" name="format-detection"><meta name="Cache-Type" content="image/gif,image/png,image/jpg"><meta http-equiv="X-UA-Compatible" content="IE=edge"><title>设置订单信息</title><meta name="description" content=""><meta name="keywords" content="index"><meta name="renderer" content="webkit"><meta http-equiv="Cache-Control" content="no-siteapp"><meta name="apple-mobile-web-app-title" content=""><script src="../js/flexible.js"></script><script src="../js/flexible_css.js"></script><link rel="stylesheet" href="../css/main.css"><link rel="stylesheet" href="../css/login.css"><style>#setUserMobile{height:1rem;text-align:center;line-height:1rem;font-size:.4rem;margin-top:-.4rem;background:#f6d768;color:#666;display:none}.pwdfind-item input{padding-left:0}#telTip{color:#999;display:none;margin-left:.45rem;margin-top:.2rem}input:disabled{opacity:1;color:#333;background:#fff}</style></head><body><div class="navbar"><div class="back_arrow back_home" id="back"></div><h1>设置订单信息</h1><div id="rightBtn">确认</div></div><div class="mainContent" id="main"><div id="setUserMobile">为了更好为你服务，请完善您的账户信息</div><div id="pwdfind-box"><div class="pwdfind-item"><div class="pwdfind-wrapper" id="contentBox"></div><i class="clear"></i></div></div><div id="telTip">该手机号码为您注册时绑定的手机号码</div></div><script src="../js/zepto.min.js"></script><script src="../js/main.js?v=0.01"></script><script>var backFrom="";T.setOrderInfo=function(){var r=T.Util.getPara("orderNo"),l=T.Util.getPara("prompt"),a=T.Storage.get("userinfo"),e={init:function(){var t=T.Storage.get("userinfo");if(!T.Util.isEmpty(t)&&T.Util.isEmpty(t.userMobile)){if("setMobile"==backFrom&&T.isNative)return void T.Util.back();$("#setUserMobile").show(),$("#setUserMobile").off().Touch(function(){T.Util.openWindow(T.Util.getRootPath()+"/"+Global.webRoot+"/user/setMobile.html")})}else $("#setUserMobile").hide();"1"==l?(a&&a.userMobile?($("#contentBox").html('<input id="orderPhone" type="tel"  maxlength="11" placeholder="请输入手机号码" value="'+a.userMobile+'">'),$("#telTip").show()):$("#contentBox").html('<input id="orderPhone" type="tel"  maxlength="11" placeholder="请输入手机号码">'),T.Util.xmlHttpRequest({type:"get",errorType:1,reqUrl:"/commodity/services/product/isNewCommodity.json?orderNo="+r,callback:function(t){1==t.res_data.value.IS_NEW_COMMODITY&&a&&a.userMobile&&$("#orderPhone").attr("disabled","disabled")},errorCallback:function(t){"-15"==t.msg_code?alert("为保障账户安全，请完善帐户信息。",function(){backFrom="setMobile",T.Util.openWindow(T.Util.getRootPath()+"/"+Global.webRoot+"/user/setMobile.html")}):tip(t.msg)}})):"2"==l?$("#contentBox").html('<input id="orderPhone" type="tel"  maxlength="11" placeholder="请输QQ号码">'):"4"==l?$("#contentBox").html('<input id="orderPhone" type="email"  maxlength="30" placeholder="请输入邮箱地址">'):$("#contentBox").html('<input id="orderPhone" type="text"  maxlength="20" placeholder="请输入会员号">'),e.initPage(),e.bindEvent()},initPage:function(){T.Storage.get("access_token")||T.Util.openWindow(T.Util.getRootPath()+"/"+Global.webRoot+"/user/login.html")},bindEvent:function(){$("#back").off().Touch(function(){T.Util.back()}),$("input").on("input",function(){0<$(this).val().length?$(this).parent().addClass("writing"):$(this).parent().removeClass("writing")}),$("input").on("blur",function(){$(this).parent().removeClass("writing")}),$(".clear").off().Touch(function(){$(this).parent().find("input").val(""),$(this).parent().removeClass("writing")}),$("#rightBtn").off().Touch(function(){var t,e,i,o,n=$("#orderPhone").val();if("1"==l){if(o=n,!(T.Util.isEmpty(o)?(tip("请输入手机号码"),0):a&&a.userMobile==o||/^1[34578]\d{9}$/.test(o)||(tip("请输入正确的手机号码"),0)))return}else if("2"==l){if(i=n,!(T.Util.isEmpty(i)?(tip("请输入QQ号码"),0):/^[1-9]\d{4,10}$/.test(i)||(tip("请输入正确QQ号码"),0)))return}else if("4"==l){if(t=n,e=new RegExp("^[a-z0-9]+([._\\-]*[a-z0-9])*@([a-z0-9]+[-a-z0-9]*[a-z0-9]+.){1,63}[a-z0-9]+$"),!(T.Util.isEmpty(t)?(tip("请输入邮箱地址"),0):e.test(t)||(tip("请输入正确的邮箱地址"),0)))return}else if(T.Util.isEmpty(n))return void tip("请输入会员号");T.Util.isEmpty(r)||T.Util.xmlHttpRequest({type:"get",errorType:1,reqUrl:"/order/services/order/addOrderInfo.json?orderNo="+r+"&addId="+n,callback:function(t){T.Storage.set("orderAddAddressOK",r),T.Util.back()},errorCallback:function(t){tip(t.msg)}})})}};return{init:e.init}}(),$(document).ready(function(){T.isNative?T.appToH5.init(function(){T.setOrderInfo.init()},function(){T.setOrderInfo.init()},function(){},function(){},function(){}):T.setOrderInfo.init()})</script></body></html>