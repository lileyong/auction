(function(n,e){var t,i=n.document,a=i.documentElement,o=i.querySelector('meta[name="viewport"]'),r=i.querySelector('meta[name="flexible"]'),l=0,m=0,s=e.flexible||(e.flexible={});if(o){console.warn("将根据已有的meta标签来设置缩放比例");var d=o.getAttribute("content").match(/initial\-scale=([\d\.]+)/);d&&(m=parseFloat(d[1]),l=parseInt(1/m))}else if(r){var c=r.getAttribute("content");if(c){var p=c.match(/initial\-dpr=([\d\.]+)/),u=c.match(/maximum\-dpr=([\d\.]+)/);p&&(l=parseFloat(p[1]),m=parseFloat((1/l).toFixed(2))),u&&(l=parseFloat(u[1]),m=parseFloat((1/l).toFixed(2)))}}if(!l&&!m){n.navigator.appVersion.match(/android/gi);var f=n.navigator.appVersion.match(/iphone/gi),h=n.devicePixelRatio;m=1/(l=f?3<=h&&(!l||3<=l)?3:2<=h&&(!l||2<=l)?2:1:/appInfo/.test(window.navigator.userAgent)?2:1)}if(a.setAttribute("data-dpr",l),!o)if(n.navigator.appVersion.match(/iphone/gi)&&/\/view\/go.html#page=index.html/.test(window.location.href)&&(m-=1e-7),console.log("scale"+m),(o=i.createElement("meta")).setAttribute("name","viewport"),o.setAttribute("content","initial-scale="+m+", maximum-scale="+m+", minimum-scale="+m+", user-scalable=no"),a.firstElementChild)a.firstElementChild.appendChild(o);else{var v=i.createElement("div");v.appendChild(o),i.write(v.innerHTML)}function g(){var e=a.getBoundingClientRect().width;540<e/l&&(e=540*l);var t=e/10;a.style.fontSize=t+"px",s.rem=n.rem=t}n.addEventListener("resize",function(){clearTimeout(t),t=setTimeout(g,300)},!1),n.addEventListener("pageshow",function(e){e.persisted&&(clearTimeout(t),t=setTimeout(g,300))},!1),"complete"===i.readyState?i.body.style.fontSize=12*l+"px":i.addEventListener("DOMContentLoaded",function(e){i.body.style.fontSize=12*l+"px"},!1),g(),s.dpr=n.dpr=l,s.refreshRem=g,s.rem2px=function(e){var t=parseFloat(e)*this.rem;return"string"==typeof e&&e.match(/rem$/)&&(t+="px"),t},s.px2rem=function(e){var t=parseFloat(e)/this.rem;return"string"==typeof e&&e.match(/px$/)&&(t+="rem"),t}})(window,window.lib||(window.lib={})),function(){if(/appInfo/.test(window.navigator.userAgent)){var e=navigator.userAgent;if("1"==JSON.parse(e.slice(e.indexOf("appInfo/")+8,e.length).split("X-Tingyun-Id")[0]).isIphoneX){var t=document.documentElement.className;document.documentElement.className=t?t+" iPhoneX":"iPhoneX"}}else{t=document.documentElement.className;document.documentElement.className=t?t+" h5":"h5"}}();